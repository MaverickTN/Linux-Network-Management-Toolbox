{% extends "base.html" %}
{% block title %}User Profile{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>User Profile</h2>
    <form method="post" action="{{ url_for('user.profile') }}">
        <div class="form-group">
            <label for="user">Username:</label>
            <input readonly type="text" class="form-control" id="user" value="{{ user }}">
        </div>
        <div class="form-group">
            <label for="email">Email:</label>
            <input name="email" id="email" type="email" class="form-control" value="{{ profile.get('email','') }}">
        </div>
        <div class="form-group">
            <label for="theme">Theme:</label>
            <select name="theme" id="theme" class="form-control">
                {% for tkey, tname in theme_names.items() %}
                <option value="{{ tkey }}" {% if profile.theme == tkey %}selected{% endif %}>{{ tname }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label>Notification Preferences:</label>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="notifications" value="system"
                {% if 'system' in profile.get('notifications', []) %}checked{% endif %}> System Events
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="notifications" value="jobs"
                {% if 'jobs' in profile.get('notifications', []) %}checked{% endif %}> Job Events
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="notifications" value="network"
                {% if 'network' in profile.get('notifications', []) %}checked{% endif %}> Network Changes
            </div>
            <!-- Add more as needed -->
        </div>
        <button class="btn btn-primary mt-2" type="submit">Update Profile</button>
    </form>
    <form method="post" action="{{ url_for('user.change_password') }}" class="mt-3">
        <button class="btn btn-secondary" type="submit">Change Password</button>
    </form>
</div>
{% endblock %}
